# ============================================
# COMPLEX SHOPIFY SERVICE - ENVIRONMENT VARIABLES
# ============================================
# Copy this file to .env and fill in your actual values

# ============================================
# SERVER CONFIGURATION
# ============================================
NODE_ENV=development
PORT=3000

# ============================================
# DATABASE CONFIGURATION
# ============================================
# PostgreSQL connection (uses complex-common-utils)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=shopify_service
DB_USER=shopify_user
DB_PASSWORD=your_password_here
DB_DIALECT=postgres
DB_SSL=false
DB_LOGGING=false

# Database pool settings
DB_POOL_MIN=2
DB_POOL_MAX=10

# Database Modifications (NEVER set to true in production)
# This flag authorizes automatic migrations and schema changes
AUTHORIZE_DB_MODIFICATIONS=false

# ============================================
# AUTHENTICATION
# ============================================
# Note: This service sits behind the BFF
# Authentication is handled at the BFF level
# user_id is passed through from authenticated BFF requests

# ============================================
# CACHE CONFIGURATION
# ============================================
# Cache mode: 'memory' (for testing) or 'redis' (for production)
CACHE_MODE=memory

# Redis URL (required if CACHE_MODE=redis)
# Format: redis://[username][:password]@host:port[/db]
# Example: redis://localhost:6379
REDIS_URL=redis://localhost:6379

# ============================================
# SHOPIFY INTEGRATION
# ============================================
# Shopify Admin API credentials (for product lookups)
SHOPIFY_SHOP_DOMAIN=your-shop.myshopify.com
SHOPIFY_ACCESS_TOKEN=your_admin_api_token
SHOPIFY_API_VERSION=2024-01

# Collections Whitelist (comma-separated collection handles)
# Leave empty to allow all collections. Example: popup,kiosk,mobile-app
SHOPIFY_COLLECTIONS_WHITELIST=

# ============================================
# SERVICE CONFIGURATION
# ============================================
# Wishlist expiration (in hours)
WISHLIST_EXPIRATION_HOURS=24

# Maximum items per wishlist
MAX_ITEMS_PER_WISHLIST=50

# User Service URL (for user validation)
USER_SERVICE_URL=http://localhost:3001
